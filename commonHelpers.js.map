{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst inputDate = document.querySelector('#datetime-picker')\nconst button = document.querySelector('[data-start]');\nconst dateDays = document.querySelector('[data-days]');\nconst dateHours = document.querySelector('[data-hours]');\nconst dateMinutes = document.querySelector('[data-minutes]');\nconst dateSeconds = document.querySelector('[data-seconds]');\n\n\nbutton.disabled = true;\n\nlet userSelectedDate = '';\nlet intervalId = null;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        if (selectedDates[0] <= options.defaultDate) {\n            button.disabled = true;\n            button.style.hover = \"none\";\n            iziToast.warning({\n                title: 'Caution',\n                message: 'Please choose a date in the future',\n            });\n        } else {\n            button.disabled = false;\n        }\n    },\n};\n\n\nbutton.addEventListener('click', startTimer)\n\nfunction startTimer() {\n    button.disabled = true;\n    inputDate.disabled = true;\n    inputDate.style.cursor = 'default';\n    intervalId = setInterval(() => {\n        const currentTime = Date.now();\n        const deltaTime = userSelectedDate.getTime() - currentTime;\n        const timerClock = convertMs(deltaTime);\n        timeText(timerClock);\n        stopTimer(deltaTime)\n    }, 1000);\n}\n\nfunction stopTimer(deltaTime) {\n    if (deltaTime <= 1000) {\n        clearInterval(intervalId);\n        inputDate.disabled = false;\n        inputDate.style.cursor = 'pointer';\n\n    }\n}\n\nfunction timeText({ days, hours, minutes, seconds } = time) {\n    dateDays.textContent = days;\n    dateHours.textContent = hours;\n    dateMinutes.textContent = minutes;\n    dateSeconds.textContent = seconds;\n}\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, '0')\n}\n\n\nflatpickr(\"#datetime-picker\", options);\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    // Remaining days\n    const days = addLeadingZero(Math.floor(ms / day));\n    // Remaining hours\n    const hours = addLeadingZero(Math.floor((ms % day) / hour));\n    // Remaining minutes\n    const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n    // Remaining seconds\n    const seconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second));\n\n    return { days, hours, minutes, seconds };\n}\n\n\n\n\n\nconst weekDaysText = document.querySelector('.curent-value_week');\nconst dayText = document.querySelector('.curent-value_day');\nconst monthText = document.querySelector('.curent-value_month');\nconst yearText = document.querySelector('.curent-value_year');\n\nconst clockBoxes = document.querySelector('.clock-box');\n\nconst clockSeconds = document.querySelector('.clock-seconds');\nconst clockMinutes = document.querySelector('.clock-minutes');\nconst clockHours = document.querySelector('.clock-hours');\n\nconst arrDaysWeek = ['Неділя', 'Понеділок', 'Вівторок', 'Середа', 'Четвер', 'Пятниця', 'Субота',];\nconst arrMonth = ['Січень', 'Лютий', 'Березень', 'Квітень', 'Травень', ' Липень', 'Серпень', 'Вересень', 'Жовтень', 'Листопад', 'Грудень'];\n\nconst currentDay = new Date();\n\nconst dayNow = arrDaysWeek[currentDay.getDay()];\nconst monthNow = arrMonth[currentDay.getMonth()];\n\n\nyearText.textContent = currentDay.getFullYear();\nweekDaysText.textContent = dayNow;\nmonthText.textContent = monthNow;\ndayText.textContent = currentDay.getDate()\n\n\nsetInterval(() => {\n    const timeNow = new Date()\n    clockSeconds.textContent = timeNow.getSeconds().toString().padStart(2, '0');\n    clockMinutes.textContent = timeNow.getMinutes().toString().padStart(2, '0');\n    clockHours.textContent = timeNow.getHours().toString().padStart(2, '0');\n}, 1000)\n\n"],"names":["inputDate","button","dateDays","dateHours","dateMinutes","dateSeconds","userSelectedDate","intervalId","options","selectedDates","iziToast","startTimer","currentTime","deltaTime","timerClock","convertMs","timeText","stopTimer","days","hours","minutes","seconds","addLeadingZero","value","flatpickr","ms","weekDaysText","dayText","monthText","yearText","clockSeconds","clockMinutes","clockHours","arrDaysWeek","arrMonth","currentDay","dayNow","monthNow","timeNow"],"mappings":"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"}